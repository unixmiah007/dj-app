{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import FullCalendar from\"@fullcalendar/react\";import dayGridPlugin from\"@fullcalendar/daygrid\";import timeGridPlugin from\"@fullcalendar/timegrid\";import interactionPlugin from\"@fullcalendar/interaction\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CalendarPage(){const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{// Fetch bookings from backend API\nconst fetchBookings=async()=>{try{const res=await axios.get(\"http://localhost:5000/booking\");// Map backend data to FullCalendar event format\nconst calendarEvents=res.data.map(booking=>({id:booking.id,title:booking.name,start:booking.date,// optional: you can add end date/time if you have it\n// end: booking.endDate,\nextendedProps:{details:booking.details}}));setEvents(calendarEvents);setLoading(false);}catch(error){console.error(\"Failed to load bookings\",error);setLoading(false);}};fetchBookings();},[]);// Optional: handle clicking on an event\nconst handleEventClick=clickInfo=>{alert(`Booking: ${clickInfo.event.title}\\nDate: ${clickInfo.event.start.toLocaleString()}\\nDetails: ${clickInfo.event.extendedProps.details||\"No details\"}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"Booking Calendar\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading bookings...\"}):/*#__PURE__*/_jsx(FullCalendar,{plugins:[dayGridPlugin,timeGridPlugin,interactionPlugin],initialView:\"dayGridMonth\",headerToolbar:{left:\"prev,next today\",center:\"title\",right:\"dayGridMonth,timeGridWeek,timeGridDay\"},events:events,eventClick:handleEventClick,height:\"auto\",eventColor:\"#2563eb\"// Tailwind blue-600\n,eventTextColor:\"#fff\",nowIndicator:true,selectable:true})]});}","map":{"version":3,"names":["React","useEffect","useState","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","axios","jsx","_jsx","jsxs","_jsxs","CalendarPage","events","setEvents","loading","setLoading","fetchBookings","res","get","calendarEvents","data","map","booking","id","title","name","start","date","extendedProps","details","error","console","handleEventClick","clickInfo","alert","event","toLocaleString","className","children","plugins","initialView","headerToolbar","left","center","right","eventClick","height","eventColor","eventTextColor","nowIndicator","selectable"],"sources":["/home/unixmiah/dj-app/frontend/src/pages/Calendar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport axios from \"axios\";\n\nexport default function CalendarPage() {\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Fetch bookings from backend API\n    const fetchBookings = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:5000/booking\");\n        // Map backend data to FullCalendar event format\n        const calendarEvents = res.data.map((booking) => ({\n          id: booking.id,\n          title: booking.name,\n          start: booking.date,\n          // optional: you can add end date/time if you have it\n          // end: booking.endDate,\n          extendedProps: {\n            details: booking.details,\n          },\n        }));\n        setEvents(calendarEvents);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Failed to load bookings\", error);\n        setLoading(false);\n      }\n    };\n\n    fetchBookings();\n  }, []);\n\n  // Optional: handle clicking on an event\n  const handleEventClick = (clickInfo) => {\n    alert(\n      `Booking: ${clickInfo.event.title}\\nDate: ${clickInfo.event.start.toLocaleString()}\\nDetails: ${clickInfo.event.extendedProps.details || \"No details\"}`\n    );\n  };\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-4\">\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">Booking Calendar</h1>\n      {loading ? (\n        <p>Loading bookings...</p>\n      ) : (\n        <FullCalendar\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n          initialView=\"dayGridMonth\"\n          headerToolbar={{\n            left: \"prev,next today\",\n            center: \"title\",\n            right: \"dayGridMonth,timeGridWeek,timeGridDay\",\n          }}\n          events={events}\n          eventClick={handleEventClick}\n          height=\"auto\"\n          eventColor=\"#2563eb\" // Tailwind blue-600\n          eventTextColor=\"#fff\"\n          nowIndicator={true}\n          selectable={true}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,YAAY,KAAM,qBAAqB,CAC9C,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,iBAAiB,KAAM,2BAA2B,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAgB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,CAAC,+BAA+B,CAAC,CAC5D;AACA,KAAM,CAAAC,cAAc,CAAGF,GAAG,CAACG,IAAI,CAACC,GAAG,CAAEC,OAAO,GAAM,CAChDC,EAAE,CAAED,OAAO,CAACC,EAAE,CACdC,KAAK,CAAEF,OAAO,CAACG,IAAI,CACnBC,KAAK,CAAEJ,OAAO,CAACK,IAAI,CACnB;AACA;AACAC,aAAa,CAAE,CACbC,OAAO,CAAEP,OAAO,CAACO,OACnB,CACF,CAAC,CAAC,CAAC,CACHhB,SAAS,CAACM,cAAc,CAAC,CACzBJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOe,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/Cf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAgB,gBAAgB,CAAIC,SAAS,EAAK,CACtCC,KAAK,CACH,YAAYD,SAAS,CAACE,KAAK,CAACX,KAAK,WAAWS,SAAS,CAACE,KAAK,CAACT,KAAK,CAACU,cAAc,CAAC,CAAC,cAAcH,SAAS,CAACE,KAAK,CAACP,aAAa,CAACC,OAAO,EAAI,YAAY,EACvJ,CAAC,CACH,CAAC,CAED,mBACEnB,KAAA,QAAK2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC9B,IAAA,OAAI6B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,CACxExB,OAAO,cACNN,IAAA,MAAA8B,QAAA,CAAG,qBAAmB,CAAG,CAAC,cAE1B9B,IAAA,CAACN,YAAY,EACXqC,OAAO,CAAE,CAACpC,aAAa,CAAEC,cAAc,CAAEC,iBAAiB,CAAE,CAC5DmC,WAAW,CAAC,cAAc,CAC1BC,aAAa,CAAE,CACbC,IAAI,CAAE,iBAAiB,CACvBC,MAAM,CAAE,OAAO,CACfC,KAAK,CAAE,uCACT,CAAE,CACFhC,MAAM,CAAEA,MAAO,CACfiC,UAAU,CAAEb,gBAAiB,CAC7Bc,MAAM,CAAC,MAAM,CACbC,UAAU,CAAC,SAAU;AAAA,CACrBC,cAAc,CAAC,MAAM,CACrBC,YAAY,CAAE,IAAK,CACnBC,UAAU,CAAE,IAAK,CAClB,CACF,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}